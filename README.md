# 1c-odata-php-functions
Разные функции и скрипты для работы с 1с через ОДата и для работы с канбордом (https://kanboard.org/)

Для более быстрого выполнения скриптов некоторые справочники из 1с выгружаются в монгоДБ. Однако можно использовать и непосредственно 1с. В файле /php/79-1c-const.php есть необходимые запросы в 1с.

Скрипты:

- зарплата.php - выводит таблицу со списком заказов, ПОЛНОСТЬЮ закрытых в этом месяце. Также считает зарплату каждого менеджера.

- 1c-orders-to-kanboard.php - выгружает заказы за нужное количество дней и добавляет их в канборд.

- add-single-task.php - добавляет одну задачу в канборд

- last-orders.php - Список всех заказов за все время по всем контрагентам. Сгруппирован по последним заказам по месяцам. Новые сверху. Также приложены все заказы и список контактной информации для данного контрагента. Страница сверстана на bootstrap 4.

Вспомогательные файлы:

- /php/00-conf.php - файл с логинами, паролями, константами

- /php/50-functions.php - файл с функциями (запрос из 1с, из монго, очистка строки от пробелов и т.п.)

- /php/79-1c-const.php - файл с функциями запроса постоянной информации (контрагенты, контакты и т.д.) из 1с

- /php/98-class.php - файл с описанием объекта order. Используется для расчета зарплаты.
